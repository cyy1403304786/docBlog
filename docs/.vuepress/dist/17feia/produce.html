<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>17feia 项目说明文档 | 学习笔记</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/img/test.ico">
    <meta name="description" content="Just playing around">
    
    <link rel="preload" href="/assets/css/0.styles.47543788.css" as="style"><link rel="preload" href="/assets/js/app.e844382c.js" as="script"><link rel="preload" href="/assets/js/2.def6215b.js" as="script"><link rel="preload" href="/assets/js/3.f4d52b8e.js" as="script"><link rel="preload" href="/assets/js/7.02c09c41.js" as="script"><link rel="prefetch" href="/assets/js/10.50a01628.js"><link rel="prefetch" href="/assets/js/11.42552db5.js"><link rel="prefetch" href="/assets/js/12.cbdb02fa.js"><link rel="prefetch" href="/assets/js/13.a0623ea7.js"><link rel="prefetch" href="/assets/js/14.65b4c7f2.js"><link rel="prefetch" href="/assets/js/15.594a5849.js"><link rel="prefetch" href="/assets/js/16.07d3711d.js"><link rel="prefetch" href="/assets/js/17.b7b18637.js"><link rel="prefetch" href="/assets/js/18.f1a2b96e.js"><link rel="prefetch" href="/assets/js/19.e561fffd.js"><link rel="prefetch" href="/assets/js/20.79457941.js"><link rel="prefetch" href="/assets/js/21.e88381ce.js"><link rel="prefetch" href="/assets/js/22.a54482d5.js"><link rel="prefetch" href="/assets/js/23.1d8ea74f.js"><link rel="prefetch" href="/assets/js/24.b9ba21dd.js"><link rel="prefetch" href="/assets/js/25.89f800d1.js"><link rel="prefetch" href="/assets/js/26.6736e07b.js"><link rel="prefetch" href="/assets/js/27.0905f68d.js"><link rel="prefetch" href="/assets/js/28.c49c2491.js"><link rel="prefetch" href="/assets/js/29.a1efb644.js"><link rel="prefetch" href="/assets/js/30.52ef7b66.js"><link rel="prefetch" href="/assets/js/31.3f7e9119.js"><link rel="prefetch" href="/assets/js/32.10f7af96.js"><link rel="prefetch" href="/assets/js/33.5b18032b.js"><link rel="prefetch" href="/assets/js/34.b6f892e9.js"><link rel="prefetch" href="/assets/js/4.28ef076a.js"><link rel="prefetch" href="/assets/js/5.a197b8e0.js"><link rel="prefetch" href="/assets/js/6.8d5a490f.js"><link rel="prefetch" href="/assets/js/8.a6d73c47.js"><link rel="prefetch" href="/assets/js/9.2dcc13a8.js">
    <link rel="stylesheet" href="/assets/css/0.styles.47543788.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">学习笔记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  home
</a></div><div class="nav-item"><a href="http://nuxt.yysmile.cn" target="_blank" rel="noopener noreferrer" class="nav-link external">
  个人网站
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/cyy1403304786" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github 地址
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  home
</a></div><div class="nav-item"><a href="http://nuxt.yysmile.cn" target="_blank" rel="noopener noreferrer" class="nav-link external">
  个人网站
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/cyy1403304786" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github 地址
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>工具类</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ES6</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>parcels技术点</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>toppgo技术点</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>17feia技术点</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/17feia/produce.html" aria-current="page" class="active sidebar-link">17fea项目说明文档</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/17feia/produce.html#项目介绍" class="sidebar-link">项目介绍</a></li><li class="sidebar-sub-header"><a href="/17feia/produce.html#前端所用技术框架选型" class="sidebar-link">前端所用技术框架选型</a></li><li class="sidebar-sub-header"><a href="/17feia/produce.html#项目重要技术点说明" class="sidebar-link">项目重要技术点说明</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/17feia/produce.html#_1-移动端异形轮播图实现-ui部分" class="sidebar-link">1，移动端异形轮播图实现(UI部分)</a></li><li class="sidebar-sub-header"><a href="/17feia/produce.html#_2-在路由跳转时对路由进行重定义-beforecreate-钩子函数" class="sidebar-link">2，在路由跳转时对路由进行重定义(beforeCreate 钩子函数)</a></li><li class="sidebar-sub-header"><a href="/17feia/produce.html#_3-移动端详情页在-v-html-的时候实现图片预览-通过vantui" class="sidebar-link">3，移动端详情页在 v-html 的时候实现图片预览（通过vantui）</a></li><li class="sidebar-sub-header"><a href="/17feia/produce.html#_4-移动端城市筛选匹配功能-参考vant-indexbar索引栏" class="sidebar-link">4，移动端城市筛选匹配功能(参考vant IndexBar索引栏)</a></li></ul></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>balidrop技术点</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>elementui 相关功能点</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>es6</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>前端性能优化</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>vue3.0学习</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="_17feia-项目说明文档"><a href="#_17feia-项目说明文档" class="header-anchor">#</a> 17feia 项目说明文档</h1> <h2 id="项目介绍"><a href="#项目介绍" class="header-anchor">#</a> 项目介绍</h2> <p>17feia 项目主要为两端(PC端、移动端)官网，所涉及到首页公司介绍，业务说明，运费查询，文章管理系统等多个板块。其中PC端采用nuxt 技术，移动端通过postcss-plugin-px2rem实现适配。</p> <h2 id="前端所用技术框架选型"><a href="#前端所用技术框架选型" class="header-anchor">#</a> 前端所用技术框架选型</h2> <p>该项目 PC端   应用nuxt技术构造而成。
该项目 移动端 采用 vue 搭配 vant UI 框架构造。</p> <h2 id="项目重要技术点说明"><a href="#项目重要技术点说明" class="header-anchor">#</a> 项目重要技术点说明</h2> <h3 id="_1-移动端异形轮播图实现-ui部分"><a href="#_1-移动端异形轮播图实现-ui部分" class="header-anchor">#</a> 1，移动端异形轮播图实现(UI部分)</h3> <ul><li>实现效果如下:</li></ul> <p><img src="/assets/img/swaper.2b289274.gif" alt="solar"></p> <ul><li>采用swiper.js 实现轮播效果</li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code>  cnpm i swiper --save
</code></pre></div><ul><li>在使用页面引入swiper</li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code>
  <span class="token function">import</span> Swiper from <span class="token string">'swiper'</span>
  <span class="token function">import</span> <span class="token string">'swiper/css/swiper.css'</span>

</code></pre></div><ul><li>初始化并进行相关配置</li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code>
      <span class="token function-name function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        this.initSwiper<span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>,
      methods: <span class="token punctuation">{</span>
            <span class="token function-name function">initSwiper</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                 this.swiper <span class="token operator">=</span> new Swiper<span class="token punctuation">(</span><span class="token string">'.swiper-container'</span>,<span class="token punctuation">{</span>
                  observer: true, // 当改变swiper样式或修改swiper的子元素时，自动初始化swiper，
                  observerParents: true,
                  effect: <span class="token string">&quot;slide&quot;</span>, // 切换效果<span class="token string">'slide(普通切换、默认)'</span>,<span class="token string">'fade('</span>淡入<span class="token string">')'</span>,<span class="token string">'cube(方块)'</span>,<span class="token string">'coverflow(3d流)'</span>,<span class="token string">'flip(3d翻转)'</span>
                  centeredSlides: true, // 设置活动块居中
                  // spaceBetween: <span class="token string">&quot;18%&quot;</span>, // slide中间的设置距离（单位PX）<span class="token punctuation">;</span>
                  slidesPerView: <span class="token string">&quot;auto&quot;</span>, // 设置slider容器能够同时显示的slides数量
                  loopedSlides: this.images.length+2, // 设置所要用到的loop个数（一般设置大于可视slide个数2个）
                  loop: true,
                  autoplay: false,
                  coverflowEffect: <span class="token punctuation">{</span> // coverflow效果参数
                      rotate: <span class="token number">0</span>, // slide做3d旋转时Y轴的旋转角度
                      stretch: -30, // 每个slide之间的拉伸值，越大slide靠的越紧，5.3.6后可使用百分比%
                      depth: <span class="token number">200</span>, // slide的位置深度，值越大Z轴距离越远，看起来越小
                      modifier: <span class="token number">1</span>, // 
                      slideShadows: <span class="token boolean">false</span> // 是否开启slide阴影
                  <span class="token punctuation">}</span>,
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>


</code></pre></div><ul><li>html 页面结构</li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code>   <span class="token operator">&lt;</span>div <span class="token assign-left variable">class</span><span class="token operator">=</span><span class="token string">&quot;swiper-container&quot;</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>div <span class="token assign-left variable">class</span><span class="token operator">=</span><span class="token string">&quot;swiper-wrapper&quot;</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>div <span class="token assign-left variable">class</span><span class="token operator">=</span><span class="token string">&quot;swiper-slide &quot;</span><span class="token operator">&gt;</span>
                   <span class="token operator">&lt;</span>img <span class="token assign-left variable">src</span><span class="token operator">=</span><span class="token string">&quot;../assets/images/choose1.jpg&quot;</span> <span class="token assign-left variable">alt</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span><span class="token operator">&gt;</span>
                   <span class="token operator">&lt;</span>div <span class="token assign-left variable">class</span><span class="token operator">=</span><span class="token string">&quot;custom-indicator&quot;</span><span class="token operator">&gt;</span> 
                      <span class="token operator">&lt;</span>h<span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span>资深行业经验<span class="token operator">&lt;</span>/h<span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span>
                      <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token number">16</span>年深耕跨境物流，提供一站式B2C<span class="token operator">&amp;</span>B2B出口物流解决方案 在清关等关键环节具备明显优势<span class="token operator">&lt;</span>/p<span class="token operator">&gt;</span>
                  <span class="token operator">&lt;</span>/div<span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>/div<span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>div <span class="token assign-left variable">class</span><span class="token operator">=</span><span class="token string">&quot;swiper-slide &quot;</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>img <span class="token assign-left variable">src</span><span class="token operator">=</span><span class="token string">&quot;../assets/images/choose2.jpg&quot;</span> <span class="token assign-left variable">alt</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>div <span class="token assign-left variable">class</span><span class="token operator">=</span><span class="token string">&quot;custom-indicator&quot;</span><span class="token operator">&gt;</span>
                      <span class="token operator">&lt;</span>h<span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span>专业个性化服务<span class="token operator">&lt;</span>/h<span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span>
                      <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>全球专线网络满足各类细分市场需求，多种派送服务自由选择 特殊货物品类、特殊寄送要求可定制渠道<span class="token operator">&lt;</span>/p<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>/div<span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>/div<span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>div <span class="token assign-left variable">class</span><span class="token operator">=</span><span class="token string">&quot;swiper-slide &quot;</span><span class="token operator">&gt;</span>
                 <span class="token operator">&lt;</span>img <span class="token assign-left variable">src</span><span class="token operator">=</span><span class="token string">&quot;../assets/images/choose3.jpg&quot;</span> <span class="token assign-left variable">alt</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span><span class="token operator">&gt;</span>
                  <span class="token operator">&lt;</span>div <span class="token assign-left variable">class</span><span class="token operator">=</span><span class="token string">&quot;custom-indicator&quot;</span><span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>h<span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span>智慧物流系统<span class="token operator">&lt;</span>/h<span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span>
                    <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>自主研发包裹处理系统，对接主流跨境电商ERP  便于服务商高效协同操作，客户物流信息全程实时可视化追踪<span class="token operator">&lt;</span>/p<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>/div<span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>/div<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>/div<span class="token operator">&gt;</span>
      
      <span class="token operator">&lt;</span>/div<span class="token operator">&gt;</span>
</code></pre></div><ul><li>相关css 样式参考</li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code>    .swiper-container <span class="token punctuation">{</span>
        padding: 30px <span class="token number">0</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      .swiper-container .swiper-wrapper .swiper-slide<span class="token punctuation">{</span>
        width: 650px <span class="token operator">!</span>important<span class="token punctuation">;</span>
        overflow: hidden<span class="token punctuation">;</span>
        background: transparent<span class="token punctuation">;</span>
        transition: all 300ms ease 0s<span class="token punctuation">;</span>
        transform: scale<span class="token punctuation">(</span><span class="token number">0.94</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        -ms-transform: scale<span class="token punctuation">(</span><span class="token number">0.94</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        -moz-transform: scale<span class="token punctuation">(</span><span class="token number">0.94</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        -webkit-transform: scale<span class="token punctuation">(</span><span class="token number">0.94</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        -o-transform: scale<span class="token punctuation">(</span><span class="token number">0.94</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      .swiper-container .swiper-wrapper .swiper-slide img <span class="token punctuation">{</span>
        box-shadow: 0px 10px 26px 0px rgba<span class="token punctuation">(</span><span class="token number">4</span>, <span class="token number">0</span>, <span class="token number">0</span>, <span class="token number">0.26</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      .swiper-container .swiper-wrapper .swiper-slide-active<span class="token punctuation">{</span>
        transform: scale<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        -ms-transform: scale<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        -moz-transform: scale<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        -webkit-transform: scale<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        -o-transform: scale<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      .swiper-container .swiper-wrapper .swiper-slide img<span class="token punctuation">{</span>
        width: <span class="token number">100</span>%<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
</code></pre></div><h3 id="_2-在路由跳转时对路由进行重定义-beforecreate-钩子函数"><a href="#_2-在路由跳转时对路由进行重定义-beforecreate-钩子函数" class="header-anchor">#</a> 2，在路由跳转时对路由进行重定义(beforeCreate 钩子函数)</h3> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>业务需求: 项目中在文章系统中，不同页面跳转到同一详情页面，但是路由前的title 需要动态设置，那么则需要在页面实例化前重定义路由title</p></div> <ul><li>实现思路：在跳转页面运用 beforeCreate 钩子函数</li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code>    beforeCreate <span class="token punctuation">(</span>vm<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      this.<span class="token variable">$route</span>.meta.title <span class="token operator">=</span> this.<span class="token variable">$route</span>.query.name
    <span class="token punctuation">}</span>,
</code></pre></div><h3 id="_3-移动端详情页在-v-html-的时候实现图片预览-通过vantui"><a href="#_3-移动端详情页在-v-html-的时候实现图片预览-通过vantui" class="header-anchor">#</a> 3，移动端详情页在 v-html 的时候实现图片预览（通过vantui）</h3> <ul><li>实现效果如下:</li></ul> <p><img src="/assets/img/imgPreview.dc567748.gif" alt="solar"></p> <ul><li>引入 vant 里面的 ImagePreview 图片预览组件</li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code>
  <span class="token function">import</span> <span class="token punctuation">{</span> ImagePreview <span class="token punctuation">}</span> from <span class="token string">'vant'</span><span class="token punctuation">;</span>

</code></pre></div><p>-html 结构</p> <div class="language-sh extra-class"><pre class="language-sh"><code>         <span class="token operator">&lt;</span>div   @click<span class="token operator">=</span><span class="token string">&quot;getImg(<span class="token variable">$event</span>)&quot;</span><span class="token operator">&gt;</span>
           <span class="token operator">&lt;</span>p <span class="token assign-left variable">class</span><span class="token operator">=</span><span class="token string">&quot;content&quot;</span> v-highlightjs v-html<span class="token operator">=</span><span class="token string">&quot;articleInfo.content&quot;</span> <span class="token operator">&gt;</span><span class="token operator">&lt;</span>/p<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>/div<span class="token operator">&gt;</span>

</code></pre></div><ul><li>方法</li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code>      getImg<span class="token punctuation">(</span><span class="token variable">$event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      if<span class="token punctuation">(</span><span class="token variable">$event</span>.target.currentSrc<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          ImagePreview<span class="token punctuation">(</span><span class="token punctuation">{</span>
          images:<span class="token punctuation">[</span>
            <span class="token variable">$event</span>.target.currentSrc
          <span class="token punctuation">]</span>,
          showIndex:false
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    
    <span class="token punctuation">}</span>,
</code></pre></div><h3 id="_4-移动端城市筛选匹配功能-参考vant-indexbar索引栏"><a href="#_4-移动端城市筛选匹配功能-参考vant-indexbar索引栏" class="header-anchor">#</a> 4，移动端城市筛选匹配功能(参考vant IndexBar索引栏)</h3> <ul><li>实现效果如下:</li></ul> <p><img src="/assets/img/selectAddress.b4aca20a.gif" alt="solar"></p> <ul><li>前台 html 结构</li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code>    <span class="token operator">&lt;</span>van-dialog v-model<span class="token operator">=</span><span class="token string">&quot;show&quot;</span>  <span class="token assign-left variable">style</span><span class="token operator">=</span><span class="token string">&quot; margin-top:30px; &quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>div <span class="token operator">&gt;</span>
         <span class="token operator">&lt;</span>van-sticky<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>van-nav-bar <span class="token assign-left variable">title</span><span class="token operator">=</span><span class="token string">&quot;选择城市&quot;</span> /<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>van-search v-model<span class="token operator">=</span><span class="token string">&quot;search&quot;</span> <span class="token assign-left variable">placeholder</span><span class="token operator">=</span><span class="token string">&quot;请输入关键词&quot;</span> @input<span class="token operator">=</span><span class="token string">&quot;getVavle&quot;</span> /<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>/van-sticky<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>van-index-bar :sticky<span class="token operator">=</span><span class="token string">&quot;false&quot;</span> <span class="token assign-left variable">style</span><span class="token operator">=</span><span class="token string">&quot;height: 400px;overflow:auto;&quot;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>van-index-anchor :index<span class="token operator">=</span><span class="token string">&quot;name&quot;</span> v-for<span class="token operator">=</span><span class="token string">&quot;(item,name) in cityes&quot;</span> :key<span class="token operator">=</span><span class="token string">&quot;name&quot;</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
                <span class="token punctuation">{</span><span class="token punctuation">{</span>name<span class="token punctuation">}</span><span class="token punctuation">}</span>
                <span class="token operator">&lt;</span>div v-for<span class="token operator">=</span><span class="token string">&quot;(ele,idx) in item&quot;</span> :key<span class="token operator">=</span><span class="token string">&quot;idx&quot;</span><span class="token operator">&gt;</span>
                  <span class="token operator">&lt;</span>b @click<span class="token operator">=</span><span class="token string">&quot;getName(ele.name,ele.code)&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>ele.name<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span>/b<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>/div<span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>/div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>/van-index-anchor<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>/van-index-bar<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>/div<span class="token operator">&gt;</span>
       
    <span class="token operator">&lt;</span>/van-dialog<span class="token operator">&gt;</span>


    getVavle <span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      this.dataFilter<span class="token punctuation">(</span>value<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
</code></pre></div><ul><li>根据后台返回数组进行改造成所需要的数组</li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code>

    const state <span class="token operator">=</span> <span class="token punctuation">{</span>
      firstPin:<span class="token punctuation">[</span><span class="token string">&quot;A&quot;</span>,<span class="token string">&quot;B&quot;</span>,<span class="token string">&quot;C&quot;</span>,<span class="token string">&quot;D&quot;</span>,<span class="token string">&quot;E&quot;</span>,<span class="token string">&quot;F&quot;</span>,<span class="token string">&quot;G&quot;</span>,<span class="token string">&quot;H&quot;</span>,<span class="token string">&quot;J&quot;</span>,<span class="token string">&quot;K&quot;</span>,<span class="token string">&quot;L&quot;</span>,<span class="token string">&quot;M&quot;</span>,<span class="token string">&quot;N&quot;</span>,<span class="token string">&quot;P&quot;</span>,<span class="token string">&quot;Q&quot;</span>,<span class="token string">&quot;R&quot;</span>,<span class="token string">&quot;S&quot;</span>,<span class="token string">&quot;T&quot;</span>,<span class="token string">&quot;W&quot;</span>,<span class="token string">&quot;X&quot;</span>,<span class="token string">&quot;Y&quot;</span>,<span class="token string">&quot;Z&quot;</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>,
    const actions <span class="token operator">=</span> <span class="token punctuation">{</span>
      async getDeparturesAndDestinationsListA <span class="token punctuation">(</span><span class="token punctuation">{</span> commit, state, dispatch <span class="token punctuation">}</span>, param<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token builtin class-name">let</span> res <span class="token operator">=</span> await getDeparturesAndDestinationsList<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        if<span class="token punctuation">(</span>res.flag<span class="token punctuation">)</span><span class="token punctuation">{</span>
          commit<span class="token punctuation">(</span><span class="token string">'getDeparturesAndDestinationsListM'</span>, res.obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>else <span class="token punctuation">{</span>
          console.log<span class="token punctuation">(</span><span class="token string">'res'</span>, res<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>,
    <span class="token punctuation">}</span>

    const mutations <span class="token operator">=</span> <span class="token punctuation">{</span>
      getDeparturesAndDestinationsListM<span class="token punctuation">(</span>state,data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token builtin class-name">let</span> arr2 <span class="token operator">=</span> data.destinations<span class="token punctuation">[</span><span class="token string">'国际'</span><span class="token punctuation">]</span>
              <span class="token builtin class-name">let</span> arrList <span class="token operator">=</span> arr2
              <span class="token builtin class-name">let</span> cityName <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
              state.firstPin.forEach<span class="token punctuation">(</span>item <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
                cityName<span class="token punctuation">[</span>item<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
                arrList.forEach<span class="token punctuation">(</span>el <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
                  <span class="token builtin class-name">let</span> first <span class="token operator">=</span>el.quanPin.substring<span class="token punctuation">(</span><span class="token number">0,1</span><span class="token punctuation">)</span>.toUpperCase<span class="token punctuation">(</span><span class="token punctuation">)</span>
                  if<span class="token punctuation">(</span>first <span class="token operator">==</span> item<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    cityName<span class="token punctuation">[</span>item<span class="token punctuation">]</span>.push<span class="token punctuation">(</span>el<span class="token punctuation">)</span>
                  <span class="token punctuation">}</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span>
              <span class="token punctuation">}</span><span class="token punctuation">)</span>
              state.cityes <span class="token operator">=</span> cityName
              state.cityesCopy <span class="token operator">=</span> cityName  //复制一个新的
            
      <span class="token punctuation">}</span>,
      dataFilter <span class="token punctuation">(</span>state, data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token builtin class-name">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
          <span class="token builtin class-name">let</span> cityName <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
          state.destination.forEach<span class="token punctuation">((</span>ele<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
            if<span class="token punctuation">(</span> ele.name.indexOf<span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token operator">!=</span> -1 <span class="token operator">||</span> ele.nameEn.indexOf<span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token operator">!=</span> -1 <span class="token operator">||</span> ele.quanPin.indexOf<span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token operator">!=</span> -1<span class="token punctuation">)</span> <span class="token punctuation">{</span>
              arr.push<span class="token punctuation">(</span>ele<span class="token punctuation">)</span>
              cityName<span class="token punctuation">[</span><span class="token string">'查询内容'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
              cityName<span class="token punctuation">[</span><span class="token string">'查询内容'</span><span class="token punctuation">]</span>.push<span class="token punctuation">(</span>ele<span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
          
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
          state.cityes <span class="token operator">=</span> cityName
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
          state.cityes <span class="token operator">=</span> state.cityesCopy
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>       
    <span class="token punctuation">}</span>


</code></pre></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">12/18/2020, 4:52:34 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/toppgo/produce/introduceApp.html" class="prev">
        toppgo APP项目说明文档
      </a></span> <span class="next"><a href="/balidrop/produce.html">
        balidrop项目说明文档
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.e844382c.js" defer></script><script src="/assets/js/2.def6215b.js" defer></script><script src="/assets/js/3.f4d52b8e.js" defer></script><script src="/assets/js/7.02c09c41.js" defer></script>
  </body>
</html>
