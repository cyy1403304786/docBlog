(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{364:function(t,s,a){t.exports=a.p+"assets/img/tree1.3de1536a.gif"},365:function(t,s,a){t.exports=a.p+"assets/img/tree2.0a0da4ab.gif"},366:function(t,s,a){t.exports=a.p+"assets/img/tree3.2a1074a5.gif"},402:function(t,s,a){"use strict";a.r(s);var n=a(45),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"tree-树形控件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#tree-树形控件"}},[t._v("#")]),t._v(" tree 树形控件")]),t._v(" "),n("h2",{attrs:{id:"_1-基础用法"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-基础用法"}},[t._v("#")]),t._v(" 1，基础用法")]),t._v(" "),n("ul",[n("li",[t._v("props 配置基础数据")])]),t._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[t._v("\n "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("el-tree :data"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"treeData"')]),t._v(" :props"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"defaultProps"')]),t._v("  node-key"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"id"')]),t._v("\n  :default-expanded-keys"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"defaultExpandedkeys"')]),t._v(" :expand-on-click-node"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"false"')]),t._v("\n   "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("ref")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"treeRef"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/el-tree"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" default "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("data")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        defaultProps: "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            children: "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'children'")]),t._v(",  //子节点数组\n            label: "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'name'")]),t._v("  //显示节点名称\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),n("ul",[n("li",[t._v("更改tree 节点图标")])]),t._v(" "),n("p",[n("img",{attrs:{src:a(364),alt:"solar"}})]),t._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[t._v("  \n    .el-tree /deep/ .el-tree-node__expand-icon.expanded"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      -webkit-transform: rotate"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("0deg"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      transform: rotate"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("0deg"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    //有子节点 且未展开\n    .el-tree /deep/ .el-icon-caret-right:before"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        background: url"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"../assets/image/companyStart.png"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" no-repeat "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        content: "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        display: block"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        width: 16px"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        height: 16px"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        font-size: 16px"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        background-size: 16px"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    //有子节点 且已展开\n  .el-tree /deep/ .el-tree-node__expand-icon.expanded.el-icon-caret-right:before"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      background: url"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"../assets/image/company.png"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" no-repeat "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" 0px"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      content: "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      display: block"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      width: 16px"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      height: 16px"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      font-size: 16px"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      background-size: 16px"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    //没有子节点"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("不显示图片"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    .el-tree /deep/.el-tree-node__expand-icon.is-leaf::before"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        background:  no-repeat "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" 0px"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        content: "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        display: block"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        width: 16px"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        height: 16px"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        font-size: 16px"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        background-size: 16px"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),n("h2",{attrs:{id:"_2-实现同级部门拖拽功能"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-实现同级部门拖拽功能"}},[t._v("#")]),t._v(" 2，实现同级部门拖拽功能")]),t._v(" "),n("p",[t._v("实现场景：")]),t._v(" "),n("p",[n("img",{attrs:{src:a(365),alt:"solar"}})]),t._v(" "),n("p",[t._v("相关属性说明:")]),t._v(" "),n("ul",[n("li",[t._v("draggable  ----el-tree中启动拖拽功能")]),t._v(" "),n("li",[t._v("allow-drag ----判断节点能否被拖拽")]),t._v(" "),n("li",[t._v("allow-drop ----拖拽时判定目标节点能否被放置 (type 参数有三种情况：'prev'、'inner' 和 'next')")]),t._v(" "),n("li",[t._v("node-drop  ----拖拽完成时触发的事件")])]),t._v(" "),n("p",[t._v("实现逻辑：")]),t._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[t._v("   "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("el-tree :data"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"treeData"')]),t._v(" \n      :props"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"defaultProps"')]),t._v("\n      node-key"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"id"')]),t._v(" \n      :default-expanded-keys"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"defaultExpandedkeys"')]),t._v("\n      :expand-on-click-node"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"false"')]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("ref")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"treeRef"')]),t._v("\n      draggable\n      :allow-drag"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"allowDrag"')]),t._v("\n      :allow-drop"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"allowDrop"')]),t._v("\n      @node-click"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"handleNodeClick"')]),t._v("\n      @node-drop"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"handleDrop"')]),t._v("\n      :highlight-current"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"true"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n   "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/el-tree"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n\n  // 判断节点能否被拖拽\n  allowDrag"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("draggingNode"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    //根节点不能被拖拽，同级部门才能互相拖拽\n    "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("return")]),t._v(" draggingNode.data.parentId.indexOf"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'root'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" -1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(",\n  //同级部门拖动"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("实现上下拖拽排序"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  allowDrop"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("draggingNode, dropNode, "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("type")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("draggingNode.level "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" dropNode.level"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("draggingNode.parent.id "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" dropNode.parent.id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          // 向上拖拽 "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" 向下拖拽\n          this.sortId.departmentId "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" draggingNode.data.id //拖拽元素传给后台\n          this.sortId.targetDepartmentId "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" dropNode.data.id // 拖拽目标元素传给后台\n          "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("type")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"prev"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("type")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"next"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        // 不同级进行处理\n        "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(",\n  // 拖拽完成"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("调用后台接口实现拖拽后刷新页面"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("handleDrop")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      this.systDepartmentSortA"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(",\n\n")])])]),n("h2",{attrs:{id:"_3-实现鼠标移入子节点-显示删除、修改、添加等功能按钮"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-实现鼠标移入子节点-显示删除、修改、添加等功能按钮"}},[t._v("#")]),t._v(" 3，实现鼠标移入子节点，显示删除、修改、添加等功能按钮")]),t._v(" "),n("p",[t._v("实现场景：")]),t._v(" "),n("p",[n("img",{attrs:{src:a(366),alt:"solar"}})]),t._v(" "),n("p",[t._v("相关属性说明:")]),t._v(" "),n("ul",[n("li",[t._v("Slot        ----使用插槽自定义树节点的内容")]),t._v(" "),n("li",[t._v("mouseenter  ----鼠标移入事件")]),t._v(" "),n("li",[t._v("mouseleave  ----鼠标移出事件")])]),t._v(" "),n("p",[t._v("实现逻辑:")]),t._v(" "),n("p",[t._v("利用 鼠标进入(mouseenter) 和 鼠标移出 (mouseenter) 动态改变新增的一个del字段就能控制隐藏显示了")]),t._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[t._v("   "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("el-tree :data"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"treeData"')]),t._v(" \n      :props"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"defaultProps"')]),t._v("\n      node-key"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"id"')]),t._v(" \n      :default-expanded-keys"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"defaultExpandedkeys"')]),t._v("\n      :expand-on-click-node"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"false"')]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("ref")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"treeRef"')]),t._v("\n      :highlight-current"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"true"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n       "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("span "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"custom-tree-node"')]),t._v(" slot-scope"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{node,data}"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n         "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("span  @mouseenter"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mouseenter(data)"')]),t._v("  @mouseleave"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mouseleave(data)"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("style")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"display: flex; align-items: center; "')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("span"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" node.label "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/span"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("span "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("style")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"margin-left: 10px;"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n              "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("-- 新增 --"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n              "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("span v-if"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"data.del"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("style")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("span v-if"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("\"data.parentId == 'root' || data.nodeType == 'WAREHOUSE' \"")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("type")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("size")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mini"')]),t._v(" @click"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"addFormData(data,node)"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("style")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"margin-right: 10px;"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                  "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("img "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("src")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"../assets/image/addIcon.png"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("alt")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("style")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"vertical-align: middle;"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/span"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n              "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/span"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n              "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("-- 编辑 --"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n               "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("span  v-if"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("\"data.parentId !== 'root'  && data.del\"")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("type")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("size")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mini"')]),t._v(" @click"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"editFormData(data,node)"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("style")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"margin-right: 10px;"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                  "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("img "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("src")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"../assets/image/editIcon.png"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("alt")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("style")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"vertical-align: middle;"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n             "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/span"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n             "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("-- 删除 --"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n             "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("span  v-if"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("\"data.parentId !== 'root' && data.nodeType == 'DEPARTMENT' && data.del\"")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("type")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("size")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mini"')]),t._v(" @click"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"deleteDepartment(data,node)"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n                  "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("img "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("src")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"../assets/image/deleteIcon.png"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("alt")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("style")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"vertical-align: middle;"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n             "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/span"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/span"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n         "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/span"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n       "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/span"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/el-tree"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n    mouseenter "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      this."),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$set")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data, "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'del'")]),t._v(", "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(",\n    mouseleave "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      this."),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$set")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data, "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'del'")]),t._v(", "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(",\n\n")])])]),n("h2",{attrs:{id:"_4-el-tree-树形默认点击第一个node-并高亮"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-el-tree-树形默认点击第一个node-并高亮"}},[t._v("#")]),t._v(" 4，el-tree 树形默认点击第一个node，并高亮")]),t._v(" "),n("p",[t._v("实现场景： 见上几个图")]),t._v(" "),n("p",[t._v("实现逻辑：")]),t._v(" "),n("p",[t._v("通过监听后台返回的树形结构数组，进行默认点击第一个节点")]),t._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[t._v("    \n    watch: "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    // 默认点击第一个node 节点\n    treeData "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("val"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("val"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          // 设置默认展开的数组\n          this.defaultExpandedkeys.push"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("this.treeData"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(".id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n          this."),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$nextTick")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("((")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n               const firstNode "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document.querySelector"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.el-tree-node'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n               firstNode.click"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n          "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);