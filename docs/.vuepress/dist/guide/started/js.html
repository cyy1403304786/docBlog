<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>js 知识点合集 | 学习笔记</title>
    <meta name="generator" content="VuePress 1.4.1">
    <link rel="icon" href="/img/test.ico">
    <meta name="description" content="Just playing around">
    <link rel="preload" href="/assets/css/0.styles.8df4f04f.css" as="style"><link rel="preload" href="/assets/js/app.65cd14aa.js" as="script"><link rel="preload" href="/assets/js/2.01576fbe.js" as="script"><link rel="preload" href="/assets/js/3.3a8f101b.js" as="script"><link rel="preload" href="/assets/js/12.77c83cbd.js" as="script"><link rel="prefetch" href="/assets/js/10.70bb49aa.js"><link rel="prefetch" href="/assets/js/11.04b8e0f1.js"><link rel="prefetch" href="/assets/js/13.e1481f74.js"><link rel="prefetch" href="/assets/js/14.9774dd8f.js"><link rel="prefetch" href="/assets/js/15.a28ca674.js"><link rel="prefetch" href="/assets/js/16.374bd280.js"><link rel="prefetch" href="/assets/js/17.12158f00.js"><link rel="prefetch" href="/assets/js/18.71ce8185.js"><link rel="prefetch" href="/assets/js/19.96de96c6.js"><link rel="prefetch" href="/assets/js/20.6091998d.js"><link rel="prefetch" href="/assets/js/21.e0ba9c4c.js"><link rel="prefetch" href="/assets/js/22.bafef454.js"><link rel="prefetch" href="/assets/js/23.47a5e399.js"><link rel="prefetch" href="/assets/js/24.9662db32.js"><link rel="prefetch" href="/assets/js/25.d1b4dfe5.js"><link rel="prefetch" href="/assets/js/26.6baa4aed.js"><link rel="prefetch" href="/assets/js/27.e595a946.js"><link rel="prefetch" href="/assets/js/28.6df60a3b.js"><link rel="prefetch" href="/assets/js/29.d7ebd614.js"><link rel="prefetch" href="/assets/js/30.2d439742.js"><link rel="prefetch" href="/assets/js/31.8272bfd8.js"><link rel="prefetch" href="/assets/js/32.3c671173.js"><link rel="prefetch" href="/assets/js/33.78b1ae65.js"><link rel="prefetch" href="/assets/js/34.0332c52c.js"><link rel="prefetch" href="/assets/js/35.8f9128d2.js"><link rel="prefetch" href="/assets/js/36.b8b2ba65.js"><link rel="prefetch" href="/assets/js/4.0d97d681.js"><link rel="prefetch" href="/assets/js/5.92449588.js"><link rel="prefetch" href="/assets/js/6.6d85527a.js"><link rel="prefetch" href="/assets/js/7.b8d012b5.js"><link rel="prefetch" href="/assets/js/8.2b87bb5c.js"><link rel="prefetch" href="/assets/js/9.ff5f15e6.js">
    <link rel="stylesheet" href="/assets/css/0.styles.8df4f04f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">学习笔记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  home
</a></div><div class="nav-item"><a href="http://www.yysmile.cn" target="_blank" rel="noopener noreferrer" class="nav-link external">
  个人网站
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/cyy1403304786" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github 地址
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  home
</a></div><div class="nav-item"><a href="http://www.yysmile.cn" target="_blank" rel="noopener noreferrer" class="nav-link external">
  个人网站
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/cyy1403304786" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github 地址
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>工具类</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/started/css.html" class="sidebar-link">css 重要知识点</a></li><li><a href="/guide/started/js.html" class="active sidebar-link">js 重要知识点</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/started/js.html#数据类型" class="sidebar-link">数据类型</a></li><li class="sidebar-sub-header"><a href="/guide/started/js.html#作用域" class="sidebar-link">作用域</a></li><li class="sidebar-sub-header"><a href="/guide/started/js.html#原型" class="sidebar-link">原型</a></li><li class="sidebar-sub-header"><a href="/guide/started/js.html#继承" class="sidebar-link">继承</a></li><li class="sidebar-sub-header"><a href="/guide/started/js.html#call-apply-bind" class="sidebar-link">call/apply/bind</a></li><li class="sidebar-sub-header"><a href="/guide/started/js.html#new-this" class="sidebar-link">new, this</a></li><li class="sidebar-sub-header"><a href="/guide/started/js.html#promise" class="sidebar-link">promise</a></li><li class="sidebar-sub-header"><a href="/guide/started/js.html#async-await（es7语法）" class="sidebar-link">async/await（es7语法）</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/started/js.html#调用异步函数时会返回一个-promise-对象" class="sidebar-link">调用异步函数时会返回一个 promise 对象</a></li><li class="sidebar-sub-header"><a href="/guide/started/js.html#await" class="sidebar-link">await</a></li><li class="sidebar-sub-header"><a href="/guide/started/js.html#async-await的优势" class="sidebar-link">async/await的优势</a></li></ul></li><li class="sidebar-sub-header"><a href="/guide/started/js.html#eventloop-事件循环" class="sidebar-link">eventloop(事件循环)</a></li><li class="sidebar-sub-header"><a href="/guide/started/js.html#浏览器渲染原理" class="sidebar-link">浏览器渲染原理</a></li></ul></li><li><a href="/guide/started/vue.html" class="sidebar-link">vue 重要知识点</a></li><li><a href="/guide/started/webhook.html" class="sidebar-link">webhook自动部署</a></li><li><a href="/guide/started/snipt.html" class="sidebar-link">自定义代码片段</a></li><li><a href="/guide/started/echarts.html" class="sidebar-link">echarts图表</a></li><li><a href="/guide/started/nginx.html" class="sidebar-link">nginx</a></li><li><a href="/guide/started/pm2.html" class="sidebar-link">pm2的相关使用</a></li><li><a href="/guide/started/nuxt.html" class="sidebar-link">nuxt的相关使用</a></li><li><a href="/guide/started/css3.html" class="sidebar-link">css3的相关介绍</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ES6</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>parcels技术点</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>toppgo技术点</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>17feia技术点</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>balidrop技术点</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>elementui 相关功能点</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>es6</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>前端性能优化</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>vue3.0学习</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="js-知识点合集"><a href="#js-知识点合集" class="header-anchor">#</a> js 知识点合集</h1> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>JavaScript 是属于 HTML 和 Web 的编程语言。有函数优先的轻量级，解释型或即时编译型，常作为开发Web 页面的脚本语言。</p></div> <h2 id="数据类型"><a href="#数据类型" class="header-anchor">#</a> 数据类型</h2> <ul><li>String：字符串类型</li> <li>Boolean：布尔类型，true or false</li> <li>Number：线性的事物，大小和次序分明</li> <li>Undefined：代表一切未知的事物（声明对象未定义）</li> <li>Null：空对象指针</li> <li>Symbol：Symbol 类型的对象永远不相等，用于解决属性名冲突（ES6新增）</li></ul> <p>以上属于基本数据类型，JS引用数据类型（复杂数据类型）有object,包括：</p> <ul><li>Object</li> <li>Array</li> <li>function</li> <li>Date</li></ul> <p><strong><font size="5"> 1，如何判断数据类型？</font></strong></p> <ul><li><font size="5" color="red"> typeof </font> 操作符(返回的类型都是字符串形式，并且对于引用数据类型除了function 返回 function 类型外，其他均返回 object。不适宜判断复杂数据类型)</li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code>    console.log<span class="token punctuation">(</span>typeof<span class="token punctuation">(</span>NAN<span class="token punctuation">))</span>-----number
    console.log<span class="token punctuation">(</span>typeof<span class="token punctuation">(</span>null<span class="token punctuation">))</span>-----object
</code></pre></div><ul><li><font size="5" color="red"> instanceof </font> 用于判断一个变量是否为某个对象的实例，会返回ture 或 false</li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code>
     <span class="token builtin class-name">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
     console.log<span class="token punctuation">(</span>arr instanceof Array<span class="token punctuation">)</span> // <span class="token boolean">true</span>

</code></pre></div><ul><li><p><font size="5" color="red"> constructor </font>(较少应用)</p></li> <li><p><font size="5" color="red"> Object.prototype.toString.call </font>(强烈推荐)</p></li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code>
    console.log<span class="token punctuation">(</span>Object.prototype.toString.call<span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">))</span> <span class="token punctuation">;</span>   // <span class="token punctuation">[</span>object String<span class="token punctuation">]</span>
    console.log<span class="token punctuation">(</span>Object.prototype.toString.call<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">))</span> <span class="token punctuation">;</span>    // <span class="token punctuation">[</span>object Number<span class="token punctuation">]</span>
    console.log<span class="token punctuation">(</span>Object.prototype.toString.call<span class="token punctuation">(</span>true<span class="token punctuation">))</span> <span class="token punctuation">;</span> // <span class="token punctuation">[</span>object Boolean<span class="token punctuation">]</span>
    console.log<span class="token punctuation">(</span>Object.prototype.toString.call<span class="token punctuation">(</span>Symbol<span class="token punctuation">(</span><span class="token punctuation">))</span><span class="token punctuation">)</span><span class="token punctuation">;</span> //<span class="token punctuation">[</span>object Symbol<span class="token punctuation">]</span>
    console.log<span class="token punctuation">(</span>Object.prototype.toString.call<span class="token punctuation">(</span>undefined<span class="token punctuation">))</span> <span class="token punctuation">;</span> // <span class="token punctuation">[</span>object Undefined<span class="token punctuation">]</span>
    console.log<span class="token punctuation">(</span>Object.prototype.toString.call<span class="token punctuation">(</span>null<span class="token punctuation">))</span> <span class="token punctuation">;</span> // <span class="token punctuation">[</span>object Null<span class="token punctuation">]</span>
    console.log<span class="token punctuation">(</span>Object.prototype.toString.call<span class="token punctuation">(</span>new Function<span class="token punctuation">(</span><span class="token punctuation">))</span><span class="token punctuation">)</span> <span class="token punctuation">;</span> // <span class="token punctuation">[</span>object Function<span class="token punctuation">]</span>
    console.log<span class="token punctuation">(</span>Object.prototype.toString.call<span class="token punctuation">(</span>new Date<span class="token punctuation">(</span><span class="token punctuation">))</span><span class="token punctuation">)</span> <span class="token punctuation">;</span> // <span class="token punctuation">[</span>object Date<span class="token punctuation">]</span>
    console.log<span class="token punctuation">(</span>Object.prototype.toString.call<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">))</span> <span class="token punctuation">;</span> // <span class="token punctuation">[</span>object Array<span class="token punctuation">]</span>
    console.log<span class="token punctuation">(</span>Object.prototype.toString.call<span class="token punctuation">(</span>new RegExp<span class="token punctuation">(</span><span class="token punctuation">))</span><span class="token punctuation">)</span> <span class="token punctuation">;</span> // <span class="token punctuation">[</span>object RegExp<span class="token punctuation">]</span>
    console.log<span class="token punctuation">(</span>Object.prototype.toString.call<span class="token punctuation">(</span>new Error<span class="token punctuation">(</span><span class="token punctuation">))</span><span class="token punctuation">)</span> <span class="token punctuation">;</span> // <span class="token punctuation">[</span>object Error<span class="token punctuation">]</span>
    console.log<span class="token punctuation">(</span>Object.prototype.toString.call<span class="token punctuation">(</span>document<span class="token punctuation">))</span> <span class="token punctuation">;</span> // <span class="token punctuation">[</span>object HTMLDocument<span class="token punctuation">]</span>
    console.log<span class="token punctuation">(</span>Object.prototype.toString.call<span class="token punctuation">(</span>window<span class="token punctuation">))</span> <span class="token punctuation">;</span> //<span class="token punctuation">[</span>object global<span class="token punctuation">]</span> window 是全局对象 global 的引用

</code></pre></div><p><strong><font size="5"> 2，堆和栈</font></strong></p> <details class="custom-block details"><summary>热门小贴士:</summary> <div class="language- extra-class"><pre><code>堆和栈在计算机领域，属于两种数据结构。它们只能在一端(称为栈顶(top))对数据项进行插入和删除。
堆：存放引用数据类型，队列优先,先进先出。
栈：存放基本数据类型，是一种先进后出的数据结构。
</code></pre></div></details> <ul><li>基本数据类型</li></ul> <p>对于基本数据类型，是存放在栈内存中。如果进行复制，系统会自动为新的变量在栈内存中分配一个新值。</p> <ul><li>引用数据类型</li></ul> <p>对于引用数据类型，是存放在堆内存中。如果进行复制，系统也会自动为新的变量在栈内存中分配一个值，但这个值只是一个地址，会指向堆内存中的同一个对象。</p> <ul><li><p>为什么进行这样的存储？</p> <p>1，堆比栈大，栈比堆速度快。</p> <p>2，基础数据类型比较稳定，而且相对来说占用的内存小</p> <p>3，引用数据类型大小是动态的，而且是无限的。</p> <p>4，堆内存是无序存储，可以根据引用直接获取。</p></li></ul> <p><strong><font size="5"> 3，浅拷贝和深拷贝</font></strong></p> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>深浅拷贝主要是针对JS引用数据类型的拷贝，浅拷贝主要是对象的引用。原值发生变化，复制后的新值也会随之变化。深拷贝，拷贝的值不会随原对象的改变而改变。</p></div> <p>实现深拷贝的方法？</p> <ul><li><font size="5" color="red"> Object.assign </font> (对一级对象进行深拷贝，二级对象则为浅拷贝)</li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code>
    var obj <span class="token operator">=</span> <span class="token punctuation">{</span>name: <span class="token string">'cyy'</span>,hobby:<span class="token punctuation">{</span>type: <span class="token string">'read'</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
    var newObj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    Object.assign<span class="token punctuation">(</span>newObj, obj<span class="token punctuation">)</span>
    obj.name <span class="token operator">=</span> <span class="token string">'wc'</span>
    obj.hobby.type <span class="token operator">=</span> <span class="token string">'sport'</span>
    console.log<span class="token punctuation">(</span>newObj<span class="token punctuation">)</span>  //<span class="token punctuation">{</span>name: <span class="token string">'cyy'</span>,hobby:<span class="token punctuation">{</span>type: <span class="token string">'sport'</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
    console.log<span class="token punctuation">(</span>obj<span class="token punctuation">)</span>    // <span class="token punctuation">{</span>name: <span class="token string">'wc'</span>,hobby:<span class="token punctuation">{</span>type: <span class="token string">'sport'</span><span class="token punctuation">}</span><span class="token punctuation">}</span>

</code></pre></div><ul><li><font size="5" color="red">  JSON.parse 和 JSON.String </font> (只能对可以转换为JSON格式的对象进行拷贝，function不行)</li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code>
    var obj <span class="token operator">=</span> <span class="token punctuation">{</span>name: <span class="token string">'cyy'</span>,hobby:<span class="token punctuation">{</span>type: <span class="token string">'read'</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
    var newObj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    newObj <span class="token operator">=</span> JSON.parse<span class="token punctuation">(</span>JSON.stringify<span class="token punctuation">(</span>obj<span class="token punctuation">))</span>
    obj.name <span class="token operator">=</span> <span class="token string">'wc'</span>
    obj.hobby.type <span class="token operator">=</span> <span class="token string">'sport'</span>
    console.log<span class="token punctuation">(</span>newObj<span class="token punctuation">)</span> //<span class="token punctuation">{</span>name: <span class="token string">'cyy'</span>,hobby:<span class="token punctuation">{</span>type: <span class="token string">'read'</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
    console.log<span class="token punctuation">(</span>obj<span class="token punctuation">)</span>  //<span class="token punctuation">{</span>name: <span class="token string">'wc'</span>,hobby:<span class="token punctuation">{</span>type: <span class="token string">'sport'</span><span class="token punctuation">}</span><span class="token punctuation">}</span>

    var obj <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span>,<span class="token punctuation">[</span><span class="token number">2,3</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
    var newObj <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    newObj <span class="token operator">=</span> JSON.parse<span class="token punctuation">(</span>JSON.stringify<span class="token punctuation">(</span>obj<span class="token punctuation">))</span>
    obj<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">2</span>
    obj<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">6</span>
    console.log<span class="token punctuation">(</span>newObj<span class="token punctuation">)</span> //<span class="token punctuation">[</span><span class="token number">1</span>,<span class="token punctuation">[</span><span class="token number">2,3</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
    console.log<span class="token punctuation">(</span>obj<span class="token punctuation">)</span>  // <span class="token punctuation">[</span><span class="token number">2</span>,<span class="token punctuation">[</span><span class="token number">6,3</span><span class="token punctuation">]</span><span class="token punctuation">]</span>

</code></pre></div><ul><li>递归方法</li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code>    <span class="token keyword">function</span> _deepClone<span class="token punctuation">(</span>source<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token builtin class-name">let</span> target<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>typeof <span class="token builtin class-name">source</span> <span class="token operator">==</span><span class="token operator">=</span> <span class="token string">'object'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            target <span class="token operator">=</span> Array.isArray<span class="token punctuation">(</span>source<span class="token punctuation">)</span> ? <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token builtin class-name">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span>let key <span class="token keyword">in</span> <span class="token builtin class-name">source</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>source.hasOwnProperty<span class="token punctuation">(</span>key<span class="token punctuation">))</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>typeof source<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">!=</span><span class="token operator">=</span> <span class="token string">'object'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                target<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> source<span class="token punctuation">[</span>key<span class="token punctuation">]</span>
                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                target<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> _deepClone<span class="token punctuation">(</span>source<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            target <span class="token operator">=</span> <span class="token builtin class-name">source</span>
        <span class="token punctuation">}</span>
        <span class="token builtin class-name">return</span> target
   <span class="token punctuation">}</span>
</code></pre></div><p>详细更多方法参照 <a href="https://github.com/yygmind/blog/issues/29" target="_blank" rel="noopener noreferrer">https://github.com/yygmind/blog/issues/29<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="作用域"><a href="#作用域" class="header-anchor">#</a> 作用域</h2> <details class="custom-block details"><summary>热门小贴士:</summary> <div class="language- extra-class"><pre><code>JS 执行上下文：是评估和执行javascript代码的抽象环境，当javascript运行的的时候，都是在执行上下文中。
全局执行上下文：默认上下文，不在函数内部的代码都是在全局执行上下文中。会创建一个全局对象（window对象）,并将this 设置为这个全局对象。
函数执行上下文：在函数被调用的时候会创建一个新的上下文。
Eval 函数执行上下文：执行在 eval 函数内部的代码。（用得较少）
</code></pre></div></details> <p><strong><font size="5"> 1，this绑定</font></strong></p> <p>在全局执行上下文中，this 的值指向全局对象。(在浏览器中，this引用 Window 对象)</p> <p>在函数执行上下文中，this 的值取决于该函数是如何被调用的。如果它被一个引用对象调用，那么 this 会被设置成那个对象，否则 this 的值被设置为全局对象或者 undefined（在严格模式下）。</p> <div class="language-sh extra-class"><pre class="language-sh"><code>   <span class="token builtin class-name">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
      foo: <span class="token function-name function">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console.log<span class="token punctuation">(</span>this<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    obj.foo<span class="token punctuation">(</span><span class="token punctuation">)</span>  //this 指向 调用的那个对象 <span class="token punctuation">{</span>foo: f<span class="token punctuation">}</span>
    <span class="token builtin class-name">let</span> <span class="token builtin class-name">test</span> <span class="token operator">=</span> obj.foo 
    test<span class="token punctuation">(</span><span class="token punctuation">)</span> //this 指向 window
</code></pre></div><p><strong><font size="5"> 2，var,let,const 区别？ </font></strong></p> <ul><li><p><font size="5" color="red"> var : </font>声明变量，可以进行预解析，存在变量提升，可以反复修改，后值会覆盖前值。</p></li> <li><p><font size="5" color="red"> let : </font>声明变量，不能进行预解析，有块级作用域。一般用于操作一般数据类型。</p></li> <li><p><font size="5" color="red"> const : </font>声明变量，不能进行预解析，有块级作用域，声明的值不能进行随意更改。（数组可以）一般用于操作引用数据类型</p></li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code>    const a <span class="token operator">=</span> <span class="token number">3</span>
    a <span class="token operator">=</span> <span class="token number">4</span>
    console.log<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>  //Uncaught TypeError: Assignment to constant variable.

    <span class="token builtin class-name">let</span> a <span class="token operator">=</span> <span class="token number">3</span>
    <span class="token assign-left variable">a</span><span class="token operator">=</span> <span class="token number">4</span>
    console.log<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>  //4

    const arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1,2</span>,3<span class="token punctuation">]</span>
    arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">4</span>
    console.log<span class="token punctuation">(</span>arr<span class="token punctuation">)</span>  //<span class="token punctuation">[</span><span class="token number">4</span>, <span class="token number">2</span>, <span class="token number">3</span><span class="token punctuation">]</span>

    const obj <span class="token operator">=</span> <span class="token punctuation">{</span>name <span class="token builtin class-name">:</span> <span class="token string">'cyy'</span><span class="token punctuation">}</span>
    obj.name <span class="token operator">=</span> <span class="token string">'wc'</span>
    console.log<span class="token punctuation">(</span>obj<span class="token punctuation">)</span>  //<span class="token punctuation">{</span>name: <span class="token string">'wc'</span><span class="token punctuation">}</span>

    for<span class="token punctuation">(</span>var i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i++ <span class="token punctuation">)</span><span class="token punctuation">{</span>
        console.log<span class="token punctuation">(</span>i<span class="token punctuation">)</span>  // <span class="token number">0,1</span>,2,3,4
     <span class="token punctuation">}</span>
    console.log<span class="token punctuation">(</span>i<span class="token punctuation">)</span>  //5
</code></pre></div><p>一次性输出 0~5</p> <div class="language-sh extra-class"><pre class="language-sh"><code>    // <span class="token builtin class-name">let</span> 的用法
     <span class="token keyword">for</span> <span class="token punctuation">(</span>let i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">6</span><span class="token punctuation">;</span> i++<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        setTimeout<span class="token punctuation">(</span><span class="token function-name function">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console.log<span class="token punctuation">(</span>new Date, i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>, <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
   // var 的用法
    <span class="token keyword">for</span> <span class="token punctuation">(</span>var i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">6</span><span class="token punctuation">;</span> i++<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            setTimeout<span class="token punctuation">(</span>function<span class="token punctuation">(</span>j<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                console.log<span class="token punctuation">(</span>new Date, i<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>, <span class="token number">1000</span>, j<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre></div><p>依次输出 0~5(定时器乘循环的次数)</p> <div class="language-sh extra-class"><pre class="language-sh"><code>   <span class="token keyword">for</span> <span class="token punctuation">(</span>let i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">6</span><span class="token punctuation">;</span> i++<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        setTimeout<span class="token punctuation">(</span><span class="token function-name function">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console.log<span class="token punctuation">(</span>new Date, i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>, <span class="token number">1000</span>*i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre></div><p>用 promise 或者 async/await 如何实现呢？请参考 <a href="https://juejin.cn/post/6844903474212143117#heading-0" target="_blank" rel="noopener noreferrer">https://juejin.cn/post/6844903474212143117#heading-0<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="原型"><a href="#原型" class="header-anchor">#</a> 原型</h2> <details class="custom-block details"><summary>Prototype</summary> <p>原型对象就是指函数所拥有的prototype属性。</p></details> <p><strong><font size="5">  1，prototype</font></strong></p> <p><font color="red"> 概念：</font>给其它对象提供共享属性的对象。</p> <p>prototype 是函数独有的，它的作用就是包含可以给特定类型的所有实例提供共享的属性和方法。任何函数在创建的时候，都会默认给该函数添加 prototype 属性。同时，prototype 也是一个对象，里面有一个默认属性 constructor，默认指向当前函数</p> <p><strong><font size="5"> 2，所有的 object 对象都有一个隐式引用 </font></strong></p> <p>所有对象，都有一个隐式引用，它被称之为这个对象的 prototype 原型。如下图，声明一个 obj 对象，只有 name, age 的属性，打印出来，却有一个__proto__ 属性。这就意味着obj 被一个对象隐式引用。所谓隐式，是指属性不能直接被访问。</p> <div style="text-align:center;"><img src="/assets/img/prototype.4454f378.png" style="margin:0 auto;"></div> <p><strong><font size="5">  3，<strong>proto</strong></font></strong></p> <p>ECMAScript 规范描述 prototype 是一个隐式引用，但之前的一些浏览器，已经私自实现了 <strong>proto</strong> 这个属性，使得可以通过 obj.<strong>proto</strong> 这个显式的属性访问</p> <ul><li>通过<font color="red">  Object.getPrototypeOf(obj) </font>  间接访问指定对象的 prototype 对象。</li> <li>通过<font color="red">  Object.setPrototypeOf(obj, anotherObj) </font> 间接设置指定对象的 prototype 对象。</li> <li>部分浏览器可以直接通过 <font color="red"> obj.<strong>proto</strong></font> 直接访问原型。</li></ul> <p><strong><font size="5">  4，prototype chain  原型链 </font></strong></p> <p><font color="red"> 概念：</font> prototype 是作为另一个对象的隐式引用的对象，那么prototype 也是一个对象，也有自己的隐式引用，如此便构成了对象的原型的链条，直到某个对象的隐式引用为null,整个链条终止。整个链条就叫原型链。</p> <p><strong><font size="5">  5，原型链有什么作用？</font></strong></p> <p>在访问一个对象的属性时，实际上是在查询原型链。这个对象是原型链的第一个元素，先检查它是否包含属性名，如果包含则返回属性值，否则检查原型链上的第二个元素，以此类推。</p> <p><strong><font size="5">  6，prototype 和 proto 的关系</font></strong></p> <p>proto 属性是对象所独有的。constructor属性也是对象所独有的（下文），而prototype 是函数独有的。对象的属性 proto ，指向该对象的构造函数（constructor）的原型对象（prototype）。</p> <p><strong><font size="5">  7，构造函数、原型、实例的关系</font></strong></p> <p>每个构造函数都有一个原型对象，原型对象都有一个指向构造函数的指针（constructor），而实例包含一个指向原型对象的内部指针（<strong>proto</strong>）。</p> <h2 id="继承"><a href="#继承" class="header-anchor">#</a> 继承</h2> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>继承是为了子类可以使用父类的所有功能，并且对这些功能进行扩展。</p></div> <p><strong><font size="5">  1，原型继承 </font></strong></p> <p>说明：将子类的原型挂载到父类上；</p> <p>缺点：子类new 出来的实例，父类的属性没有隔离，会相互影响。</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token keyword">function</span> <span class="token function-name function">Parent2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  this.name <span class="token operator">=</span> <span class="token string">'parent2'</span>
  this.arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span>, <span class="token number">2</span>, <span class="token number">3</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
Parent2.prototype.say <span class="token operator">=</span> <span class="token function-name function">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	console.log<span class="token punctuation">(</span>this.name<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function-name function">Child2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  this.type <span class="token operator">=</span> <span class="token string">'child2'</span>
<span class="token punctuation">}</span>
Child2.prototype <span class="token operator">=</span> new Parent2<span class="token punctuation">(</span><span class="token punctuation">)</span> //原型继承核心代码
<span class="token builtin class-name">let</span> child2_1 <span class="token operator">=</span> new Child2<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token builtin class-name">let</span> child2_2 <span class="token operator">=</span> new Child2<span class="token punctuation">(</span><span class="token punctuation">)</span>

console.log<span class="token punctuation">(</span>child2_1.name<span class="token punctuation">)</span> // parent2
console.log<span class="token punctuation">(</span>child2_1.say<span class="token punctuation">(</span><span class="token punctuation">))</span> // parent2
child2_1.arr.push<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>
console.log<span class="token punctuation">(</span>child2_1.arr, child2_2.arr<span class="token punctuation">)</span> // <span class="token punctuation">[</span><span class="token number">1</span>, <span class="token number">2</span>, <span class="token number">3</span>, <span class="token number">4</span><span class="token punctuation">]</span>  <span class="token punctuation">[</span><span class="token number">1</span>, <span class="token number">2</span>, <span class="token number">3</span>, <span class="token number">4</span><span class="token punctuation">]</span>

</code></pre></div><p><strong><font size="5">  2，构造函数继承 </font></strong></p> <p>说明：直接利用call或者apply方法将父类构造函数的this绑定为子类构造函数的this就可以；</p> <p>缺点：无法继承原型链上的属性与方法;</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token keyword">function</span> <span class="token function-name function">Parent1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  this.name <span class="token operator">=</span> <span class="token string">'parent1'</span>
<span class="token punctuation">}</span>
Parent1.prototype.say <span class="token operator">=</span> <span class="token function-name function">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	console.log<span class="token punctuation">(</span>this.name<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function-name function">Child1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  Parent1.call<span class="token punctuation">(</span>this<span class="token punctuation">)</span>  //构造函数继承核心代码
  this.type <span class="token operator">=</span> <span class="token string">'child1'</span>
<span class="token punctuation">}</span>
<span class="token builtin class-name">let</span> child1_1 <span class="token operator">=</span> new Child1<span class="token punctuation">(</span><span class="token punctuation">)</span>

console.log<span class="token punctuation">(</span>child1_1.name<span class="token punctuation">)</span> // parent1
console.log<span class="token punctuation">(</span>child1_1.say<span class="token punctuation">(</span><span class="token punctuation">))</span> // child1_1.say is not a <span class="token keyword">function</span>

</code></pre></div><p><strong><font size="5">  3，组合继承 </font></strong></p> <p>说明：组合构造函数与原型继承的功能；</p> <p>缺点：call()方法已经拿到父类所有的属性 ，后面再使用原型时也会有父类所有属性;</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token keyword">function</span> <span class="token function-name function">Parent3</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  this.name <span class="token operator">=</span> <span class="token string">'parent3'</span>
  this.arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span>, <span class="token number">2</span>, <span class="token number">3</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
Parent3.prototype.say <span class="token operator">=</span> <span class="token function-name function">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	console.log<span class="token punctuation">(</span>this.name<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function-name function">Child3</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  Parent3.call<span class="token punctuation">(</span>this<span class="token punctuation">)</span>
  this.type <span class="token operator">=</span> <span class="token string">'child3'</span>
<span class="token punctuation">}</span>
Child3.prototype <span class="token operator">=</span> new Parent3<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token builtin class-name">let</span> child3_1 <span class="token operator">=</span> new Child3<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token builtin class-name">let</span> child3_2 <span class="token operator">=</span> new Child3<span class="token punctuation">(</span><span class="token punctuation">)</span>

child3_1.arr.push<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>
console.log<span class="token punctuation">(</span>child3_1.arr, child3_2.arr<span class="token punctuation">)</span> //  <span class="token punctuation">[</span><span class="token number">1</span>, <span class="token number">2</span>, <span class="token number">3</span>, <span class="token number">4</span><span class="token punctuation">]</span>  <span class="token punctuation">[</span><span class="token number">1</span>, <span class="token number">2</span>, <span class="token number">3</span><span class="token punctuation">]</span>
// 缺点是 Parent3执行了两次,child3中有重复属性

</code></pre></div><p><strong><font size="5">  4，寄生组合继承 </font></strong></p> <p>说明：解决组合继承重复属性的问题，直接将子类的原型等于父类的原型，或者是用Object.create继承原型但不执行父类构造函数；</p> <div class="language-sh extra-class"><pre class="language-sh"><code>    <span class="token keyword">function</span> <span class="token function-name function">Parent4</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  this.name <span class="token operator">=</span> <span class="token string">'parent4'</span>
  this.arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span>, <span class="token number">2</span>, <span class="token number">3</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
Parent4.prototype.say <span class="token operator">=</span> <span class="token function-name function">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	console.log<span class="token punctuation">(</span>this.name<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function-name function">Child4</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  Parent4.call<span class="token punctuation">(</span>this<span class="token punctuation">)</span>
  this.type <span class="token operator">=</span> <span class="token string">'child4'</span>
<span class="token punctuation">}</span>

//子类的原型等于父类的原型
Child4.prototype <span class="token operator">=</span> Parent4.prototype  
//或 Child4.prototype <span class="token operator">=</span> Object.create<span class="token punctuation">(</span>Parent4.prototype<span class="token punctuation">)</span>
//修复重写子类原型导致子类constructor属性被修改
Child4.prototype.constructor <span class="token operator">=</span> Child4

<span class="token builtin class-name">let</span> child4_1 <span class="token operator">=</span> new Child4<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token builtin class-name">let</span> child4_2 <span class="token operator">=</span> new Child4<span class="token punctuation">(</span><span class="token punctuation">)</span>
child4_1.arr.push<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>
console.log<span class="token punctuation">(</span>child4_1.arr, child4_2.arr<span class="token punctuation">)</span> // <span class="token punctuation">[</span><span class="token number">1</span>, <span class="token number">2</span>, <span class="token number">3</span>, <span class="token number">4</span><span class="token punctuation">]</span>  <span class="token punctuation">[</span><span class="token number">1</span>, <span class="token number">2</span>, <span class="token number">3</span><span class="token punctuation">]</span>
console.log<span class="token punctuation">(</span>child4_1.constructor <span class="token operator">==</span><span class="token operator">=</span> Child4<span class="token punctuation">)</span> // <span class="token boolean">true</span> 
console.log<span class="token punctuation">(</span>child4_1.constructor <span class="token operator">==</span><span class="token operator">=</span> Parent4<span class="token punctuation">)</span>// <span class="token boolean">false</span>

// 这里的Child4就是一个继承自Function的函数对象
console.log<span class="token punctuation">(</span>Child4.constructor <span class="token operator">==</span><span class="token operator">=</span> Parent4<span class="token punctuation">)</span> // <span class="token boolean">false</span>

</code></pre></div><p><strong><font size="5">  5，Class 继承 </font></strong></p> <p>说明：ES6新增，class是一个语法糖，就是基于寄生组合继承来实现的</p> <div class="language-sh extra-class"><pre class="language-sh"><code>class Parent5<span class="token punctuation">{</span>
	<span class="token function-name function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  	this.name <span class="token operator">=</span> <span class="token string">'Parent5'</span>
    this.arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span>, <span class="token number">2</span>, <span class="token number">3</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
  <span class="token function-name function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  	console.log<span class="token punctuation">(</span>this.name<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
class Child5 extends Parent5<span class="token punctuation">{</span>
   <span class="token function-name function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    super<span class="token punctuation">(</span><span class="token punctuation">)</span> //通过super<span class="token punctuation">(</span><span class="token punctuation">)</span>调用父类构造函数
    this.type<span class="token operator">=</span><span class="token string">&quot;Child5&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token builtin class-name">let</span> child5_1 <span class="token operator">=</span> new Child5<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token builtin class-name">let</span> child5_2 <span class="token operator">=</span> new Child5<span class="token punctuation">(</span><span class="token punctuation">)</span>
child5_1.arr.push<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>
console.log<span class="token punctuation">(</span>child5_1.say<span class="token punctuation">(</span><span class="token punctuation">))</span> // Parent5
console.log<span class="token punctuation">(</span>child5_1.arr, child5_2.arr<span class="token punctuation">)</span> // <span class="token punctuation">[</span><span class="token number">1</span>, <span class="token number">2</span>, <span class="token number">3</span>, <span class="token number">4</span><span class="token punctuation">]</span>  <span class="token punctuation">[</span><span class="token number">1</span>, <span class="token number">2</span>, <span class="token number">3</span><span class="token punctuation">]</span>
console.log<span class="token punctuation">(</span>child5_1.constructor <span class="token operator">==</span><span class="token operator">=</span> Child5<span class="token punctuation">)</span> // <span class="token boolean">true</span> 
console.log<span class="token punctuation">(</span>child5_2.constructor <span class="token operator">==</span><span class="token operator">=</span> Parent5<span class="token punctuation">)</span> // <span class="token boolean">false</span>

</code></pre></div><h2 id="call-apply-bind"><a href="#call-apply-bind" class="header-anchor">#</a> call/apply/bind</h2> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>call/apply/bind 都是用于改变函数体内的this 指向问题。（函数体内this 指向主要是根据函数是被哪个对象调用的，那么指向的就是该对象）</p></div> <p>下面分别论述三者间的区别及具体使用场景：</p> <ul><li><font size="5" color="red"> call :</font> 是属于所有 Function 的方法。也就是Function.prototype.call。</li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code>    var person <span class="token operator">=</span> <span class="token punctuation">{</span>
      name: <span class="token string">'cyy'</span>,
      age: <span class="token number">25</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">function</span> say<span class="token punctuation">(</span>job<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console.log<span class="token punctuation">(</span>this<span class="token punctuation">)</span>  //this 指向声明的对象 <span class="token punctuation">{</span>name: <span class="token string">'cyy'</span>, age: <span class="token number">25</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    say.call<span class="token punctuation">(</span>person,<span class="token string">'pe'</span><span class="token punctuation">)</span>
</code></pre></div><ul><li><font size="5" color="red"> apply：</font>也是属于所有Function的方法，也就是Function.prototype.apply。</li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code>    var person <span class="token operator">=</span> <span class="token punctuation">{</span>
      name: <span class="token string">'cyy'</span>,
      age: <span class="token number">25</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">function</span> say<span class="token punctuation">(</span>job<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console.log<span class="token punctuation">(</span>this<span class="token punctuation">)</span>  //this 指向声明的对象 <span class="token punctuation">{</span>name: <span class="token string">'cyy'</span>, age: <span class="token number">25</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    say.apply<span class="token punctuation">(</span>person,<span class="token punctuation">[</span><span class="token string">'pe'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><p>两者间的区别是：call 的参数列表是一个个列出来的，apply 的参数列表是放到一个数组中。</p> <ul><li><font size="5" color="red"> bind ：</font>创建一个新的函数, 当被调用时，将其this关键字设置为提供的值。</li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code>    var altwrite <span class="token operator">=</span> document.write<span class="token punctuation">;</span>
    console.log<span class="token punctuation">(</span>altwrite<span class="token punctuation">)</span>  //为一个函数
    altwrite.bind<span class="token punctuation">(</span>document<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span> //bind 会创建一个新的函数，调用的时候会将this 设置为新值
    altwrite.call<span class="token punctuation">(</span>document,<span class="token string">'hello'</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="new-this"><a href="#new-this" class="header-anchor">#</a> new, this</h2> <h2 id="promise"><a href="#promise" class="header-anchor">#</a> promise</h2> <div class="custom-block warning"><p class="custom-block-title">Introduction</p> <p>是异步编程的一种解决方案，从语法上讲，promise 是一个对象。它有三种状态，pending(等待中)，fulfiled(成功状态)，rejected(失败状态)。它的出现主要是为了解决javascript 中回调地狱的问题，增加代码的可读性、可维护性。</p></div> <h2 id="async-await（es7语法）"><a href="#async-await（es7语法）" class="header-anchor">#</a> async/await（es7语法）</h2> <div class="custom-block warning"><p class="custom-block-title">Introduction</p> <p>是异步编程的一种解决方案，为了解决promise 的不完美。如果promise 的回调中出现嵌套，依旧会出现回调地狱。async/await 提供了一种新的编写异步代码方式，以同步方式编写异步代码，代码简洁，十分友好。</p></div> <h3 id="调用异步函数时会返回一个-promise-对象"><a href="#调用异步函数时会返回一个-promise-对象" class="header-anchor">#</a> 调用异步函数时会返回一个 promise 对象</h3> <div class="language-sh extra-class"><pre class="language-sh"><code>      async <span class="token keyword">function</span> <span class="token function-name function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token builtin class-name">return</span> <span class="token string">'ok'</span>
        throw new Error<span class="token punctuation">(</span><span class="token string">'error'</span><span class="token punctuation">)</span>  //
     <span class="token punctuation">}</span>
     test<span class="token punctuation">(</span><span class="token punctuation">)</span>.then<span class="token punctuation">(</span>console.log, console.log<span class="token punctuation">)</span>
</code></pre></div><ul><li>当这个异步函数返回一个值时，promise 的 resolve 方法将会处理这个返回值</li> <li>当异步函数抛出异常或者非法值时，promise 的 reject 方法将处理这个异常值</li></ul> <h3 id="await"><a href="#await" class="header-anchor">#</a> await</h3> <p>await 操作符用于等待一个 Promise 返回结果或者某个直接的值，且 await 必须在异步函数 (async function) 上下文中使用。</p> <div class="language-sh extra-class"><pre class="language-sh"><code>    <span class="token keyword">function</span> <span class="token function">sleep</span> <span class="token punctuation">(</span>second<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token builtin class-name">return</span> new Promise<span class="token variable"><span class="token punctuation">((</span>resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> {
        setTimeout<span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> second<span class="token operator">*</span><span class="token number">1000</span><span class="token punctuation">)</span>
        }<span class="token punctuation">)</span>
    }
    async function test <span class="token punctuation">(</span><span class="token punctuation">)</span> {
        console.log<span class="token punctuation">(</span>new Date<span class="token punctuation">(</span><span class="token punctuation">))</span></span>
        await sleep<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
        console.log<span class="token punctuation">(</span>new Date<span class="token punctuation">(</span><span class="token punctuation">))</span>
    <span class="token punctuation">}</span>
   test<span class="token punctuation">(</span><span class="token punctuation">)</span>

    // 输出结果为：
    Fri Mar <span class="token number">12</span> <span class="token number">2021</span> <span class="token number">10</span>:40:32 GMT+0800 <span class="token punctuation">(</span>中国标准时间<span class="token punctuation">)</span>
    Fri Mar <span class="token number">12</span> <span class="token number">2021</span> <span class="token number">10</span>:40:35 GMT+0800 <span class="token punctuation">(</span>中国标准时间<span class="token punctuation">)</span>
</code></pre></div><p>异步函数中执行 await 表达式，这将会使异步函数暂停执行并等待 promise 解析传值后，继续执行异步函数并返回解析值。</p> <h3 id="async-await的优势"><a href="#async-await的优势" class="header-anchor">#</a> async/await的优势</h3> <ul><li>错误处理
try-catch 处理同步，异步错误。</li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code>   <span class="token keyword">function</span> getJSON<span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token builtin class-name">return</span> new Promise<span class="token punctuation">(</span>function<span class="token punctuation">(</span>resolve,reject<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        res <span class="token operator">=</span> <span class="token punctuation">{</span>obj: <span class="token string">'cyy'</span><span class="token punctuation">}</span>
        resolve<span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    // 使用 promise
    <span class="token keyword">function</span> <span class="token function-name function">test</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
        try <span class="token punctuation">{</span>
            getJSON<span class="token punctuation">(</span><span class="token punctuation">)</span>.then<span class="token variable"><span class="token punctuation">((</span>res<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> {
                var data <span class="token operator">=</span> JSON.parse<span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token operator">/</span><span class="token operator">/</span> 此处会报错 SyntaxError<span class="token operator">:</span> Unexpected token u in JSON at position <span class="token number">0</span>
            }<span class="token punctuation">)</span>
        } 
        catch <span class="token punctuation">(</span>e<span class="token punctuation">)</span> {
            console.log<span class="token punctuation">(</span>e<span class="token punctuation">)</span>   <span class="token operator">/</span><span class="token operator">/</span> catch 无法捕捉到异常
        }
    }
    <span class="token operator">/</span><span class="token operator">/</span> 使用 async<span class="token operator">/</span>await
    async function test <span class="token punctuation">(</span><span class="token punctuation">)</span> {
      try {
        var data <span class="token operator">=</span> JSON.parse<span class="token punctuation">(</span>await getJSON<span class="token punctuation">(</span><span class="token punctuation">))</span></span>
      <span class="token punctuation">}</span> catch <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console.log<span class="token punctuation">(</span>e<span class="token punctuation">)</span> // catch 里面会捕捉到异常  SyntaxError: Unexpected token u <span class="token keyword">in</span> JSON at position <span class="token number">0</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    test<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><ul><li>解决嵌套问题</li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code>    <span class="token keyword">function</span> <span class="token function-name function">test</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token builtin class-name">return</span> promise1<span class="token punctuation">(</span><span class="token punctuation">)</span>
            .then<span class="token punctuation">(</span>value1 <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
               <span class="token builtin class-name">return</span> promise2<span class="token punctuation">(</span>valu1<span class="token punctuation">)</span>
            .then<span class="token punctuation">(</span>value2 <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
                <span class="token builtin class-name">return</span> promise3<span class="token punctuation">(</span>value1, value2<span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    async <span class="token keyword">function</span> <span class="token function-name function">test</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        var value1 <span class="token operator">=</span> await promise1<span class="token punctuation">(</span><span class="token punctuation">)</span>
        var value2 <span class="token operator">=</span> await promise2<span class="token punctuation">(</span>value1<span class="token punctuation">)</span>
        <span class="token builtin class-name">return</span> promise3<span class="token punctuation">(</span>value1, value2<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
</code></pre></div><ul><li>代码更加简洁，优雅</li></ul> <h2 id="eventloop-事件循环"><a href="#eventloop-事件循环" class="header-anchor">#</a> eventloop(事件循环)</h2> <details class="custom-block details"><summary>热门小贴士:</summary> <div class="language- extra-class"><pre><code>JavaScript 是一门单线程语言，异步，非阻塞。javascript 代码是从上至下执行的！
</code></pre></div></details> <ul><li><p>JavaScript的运行机制</p> <p>javascript 是单线程的。执行任务需一个完成后接下一个，那么在网页元素加载过慢的时候，不能一直等待页面。因此引发了同步和异步的概念。JavaScript执行代码的时候将所有任务放到执行栈，那么执行栈会区分同步任务或异步任务。同步任务将进入主线程，一个接一个执行完。与此同时，异步任务会有一个事件列表，事件列表中会执行一个回调函数，将异步任务放到事件队列中。当主线程的同步任务执行完成后，就会从事件队列中读取一个个异步任务。以上过程不断循环操作就叫 事件循环。
</p><div style="text-align:center;"><img src="/assets/img/eventloop.3a50c09f.png" style="margin:0 auto;"></div><p></p></li> <li><p>宏任务和微任务：</p> <p>macro-task(宏任务)：包括整体代码script，setTimeout，setInterval</p> <p>micro-task(微任务)：Promise，process.nextTick</p></li></ul> <p>不同类型的任务会进入对应的Event Queue，比如setTimeout和setInterval会进入相同的Event Queue。</p> <p>事件循环的顺序，决定js代码的执行顺序。进入整体代码(宏任务)后，开始第一次循环。接着执行所有的微任务。然后再次从宏任务开始，找到其中一个任务队列执行完毕，再执行所有的微任务。听起来有点绕，我们用文章最开始的一段代码说明：</p> <div class="language-sh extra-class"><pre class="language-sh"><code>   setTimeout<span class="token punctuation">(</span><span class="token function-name function">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       console.log<span class="token punctuation">(</span><span class="token string">'setTimeout'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span><span class="token punctuation">)</span>

   new Promise<span class="token punctuation">(</span>function<span class="token punctuation">(</span>resolve<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       console.log<span class="token punctuation">(</span><span class="token string">'promise'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       resolve<span class="token punctuation">(</span><span class="token punctuation">)</span>
   <span class="token punctuation">}</span><span class="token punctuation">)</span>.then<span class="token punctuation">(</span><span class="token function-name function">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       console.log<span class="token punctuation">(</span><span class="token string">'then'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span><span class="token punctuation">)</span>

   console.log<span class="token punctuation">(</span><span class="token string">'console'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

   // 输出结果为：promise  console  <span class="token keyword">then</span>  setTimeout
</code></pre></div><p><strong>1，这段代码作为宏任务，进入主线程</strong></p> <p><strong>2，先遇到setTimeout，那么将其回调函数注册后分发到宏任务Event Queue。(注册过程与上同，下文不再描述)</strong></p> <p><strong>3，接下来遇到了Promise，new Promise立即执行，then函数分发到微任务Event Queue</strong></p> <p><strong>4， 遇到console.log()，立即执行,</strong></p> <p><strong>5，好啦，整体代码script作为第一个宏任务执行结束，看看有哪些微任务？我们发现了then在微任务Event Queue里面，执行</strong></p> <p><strong>6，第一轮事件循环结束了，我们开始第二轮循环，当然要从宏任务Event Queue开始。我们发现了宏任务Event Queue中setTimeout对应的回调函数，立即执行。</strong></p> <p><strong>7，结束。</strong></p> <h2 id="浏览器渲染原理"><a href="#浏览器渲染原理" class="header-anchor">#</a> 浏览器渲染原理</h2></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">3/15/2021, 9:50:16 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/guide/started/css.html" class="prev">
        css 重要知识点
      </a></span> <span class="next"><a href="/guide/started/vue.html">
        vue 重要知识点
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.65cd14aa.js" defer></script><script src="/assets/js/2.01576fbe.js" defer></script><script src="/assets/js/3.3a8f101b.js" defer></script><script src="/assets/js/12.77c83cbd.js" defer></script>
  </body>
</html>
